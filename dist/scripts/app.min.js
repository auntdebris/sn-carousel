!function(){for(var t,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],r=n.length,i=window.console=window.console||{};r--;)t=n[r],i[t]||(i[t]=e)}(),function(t){var e,n,r,i=t.event,o={_:0},a=0;e=i.special.throttledresize={setup:function(){t(this).on("resize",e.handler)},teardown:function(){t(this).off("resize",e.handler)},handler:function(s,c){var u=this,h=arguments;n=!0,r||(setInterval(function(){a++,(a>e.threshold&&n||c)&&(s.type="throttledresize",i.dispatch.apply(u,h),n=!1,a=0),a>9&&(t(o).stop(),r=!1,a=0)},30),r=!0)},threshold:0}}(jQuery),function(t,e){"use strict";function n(){if(!r.READY){r.event.determineEventTypes();for(var t in r.gestures)r.gestures.hasOwnProperty(t)&&r.detection.register(r.gestures[t]);r.event.onTouch(r.DOCUMENT,r.EVENT_MOVE,r.detection.detect),r.event.onTouch(r.DOCUMENT,r.EVENT_END,r.detection.detect),r.READY=!0}}var r=function(t,e){return new r.Instance(t,e||{})};r.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},r.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,r.HAS_TOUCHEVENTS="ontouchstart"in t,r.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,r.NO_MOUSEEVENTS=r.HAS_TOUCHEVENTS&&navigator.userAgent.match(r.MOBILE_REGEX),r.EVENT_TYPES={},r.DIRECTION_DOWN="down",r.DIRECTION_LEFT="left",r.DIRECTION_UP="up",r.DIRECTION_RIGHT="right",r.POINTER_MOUSE="mouse",r.POINTER_TOUCH="touch",r.POINTER_PEN="pen",r.EVENT_START="start",r.EVENT_MOVE="move",r.EVENT_END="end",r.DOCUMENT=document,r.plugins={},r.READY=!1,r.Instance=function(t,e){var i=this;return n(),this.element=t,this.enabled=!0,this.options=r.utils.extend(r.utils.extend({},r.defaults),e||{}),this.options.stop_browser_behavior&&r.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),r.event.onTouch(t,r.EVENT_START,function(t){i.enabled&&r.detection.startDetect(i,t)}),this},r.Instance.prototype={on:function(t,e){for(var n=t.split(" "),r=0;n.length>r;r++)this.element.addEventListener(n[r],e,!1);return this},off:function(t,e){for(var n=t.split(" "),r=0;n.length>r;r++)this.element.removeEventListener(n[r],e,!1);return this},trigger:function(t,e){var n=r.DOCUMENT.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e;var i=this.element;return r.utils.hasParent(e.target,i)&&(i=e.target),i.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this}};var i=null,o=!1,a=!1;r.event={bindDom:function(t,e,n){for(var r=e.split(" "),i=0;r.length>i;i++)t.addEventListener(r[i],n,!1)},onTouch:function(t,e,n){var s=this;this.bindDom(t,r.EVENT_TYPES[e],function(c){var u=c.type.toLowerCase();if(!u.match(/mouse/)||!a){(u.match(/touch/)||u.match(/pointerdown/)||u.match(/mouse/)&&1===c.which)&&(o=!0),u.match(/touch|pointer/)&&(a=!0);var h=0;o&&(r.HAS_POINTEREVENTS&&e!=r.EVENT_END?h=r.PointerEvent.updatePointer(e,c):u.match(/touch/)?h=c.touches.length:a||(h=u.match(/up/)?0:1),h>0&&e==r.EVENT_END?e=r.EVENT_MOVE:h||(e=r.EVENT_END),h||null===i?i=c:c=i,n.call(r.detection,s.collectEventData(t,e,c)),r.HAS_POINTEREVENTS&&e==r.EVENT_END&&(h=r.PointerEvent.updatePointer(e,c))),h||(i=null,o=!1,a=!1,r.PointerEvent.reset())}})},determineEventTypes:function(){var t;t=r.HAS_POINTEREVENTS?r.PointerEvent.getEvents():r.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r.EVENT_TYPES[r.EVENT_START]=t[0],r.EVENT_TYPES[r.EVENT_MOVE]=t[1],r.EVENT_TYPES[r.EVENT_END]=t[2]},getTouchList:function(t){return r.HAS_POINTEREVENTS?r.PointerEvent.getTouchList():t.touches?t.touches:[{identifier:1,pageX:t.pageX,pageY:t.pageY,target:t.target}]},collectEventData:function(t,e,n){var i=this.getTouchList(n,e),o=r.POINTER_TOUCH;return(n.type.match(/mouse/)||r.PointerEvent.matchType(r.POINTER_MOUSE,n))&&(o=r.POINTER_MOUSE),{center:r.utils.getCenter(i),timeStamp:(new Date).getTime(),target:n.target,touches:i,eventType:e,pointerType:o,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return r.detection.stopDetect()}}}},r.PointerEvent={pointers:{},getTouchList:function(){var t=this,e=[];return Object.keys(t.pointers).sort().forEach(function(n){e.push(t.pointers[n])}),e},updatePointer:function(t,e){return t==r.EVENT_END?this.pointers={}:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e),Object.keys(this.pointers).length},matchType:function(t,e){if(!e.pointerType)return!1;var n={};return n[r.POINTER_MOUSE]=e.pointerType==e.MSPOINTER_TYPE_MOUSE||e.pointerType==r.POINTER_MOUSE,n[r.POINTER_TOUCH]=e.pointerType==e.MSPOINTER_TYPE_TOUCH||e.pointerType==r.POINTER_TOUCH,n[r.POINTER_PEN]=e.pointerType==e.MSPOINTER_TYPE_PEN||e.pointerType==r.POINTER_PEN,n[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},r.utils={extend:function(t,n,r){for(var i in n)t[i]!==e&&r||(t[i]=n[i]);return t},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){for(var e=[],n=[],r=0,i=t.length;i>r;r++)e.push(t[r].pageX),n.push(t[r].pageY);return{pageX:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.pageY-t.pageY,r=e.pageX-t.pageX;return 180*Math.atan2(n,r)/Math.PI},getDirection:function(t,e){var n=Math.abs(t.pageX-e.pageX),i=Math.abs(t.pageY-e.pageY);return n>=i?t.pageX-e.pageX>0?r.DIRECTION_LEFT:r.DIRECTION_RIGHT:t.pageY-e.pageY>0?r.DIRECTION_UP:r.DIRECTION_DOWN},getDistance:function(t,e){var n=e.pageX-t.pageX,r=e.pageY-t.pageY;return Math.sqrt(n*n+r*r)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==r.DIRECTION_UP||t==r.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(t,e){var n,r=["webkit","khtml","moz","ms","o",""];if(e&&t.style){for(var i=0;r.length>i;i++)for(var o in e)e.hasOwnProperty(o)&&(n=o,r[i]&&(n=r[i]+n.substring(0,1).toUpperCase()+n.substring(1)),t.style[n]=e[o]);"none"==e.userSelect&&(t.onselectstart=function(){return!1})}}},r.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:r.utils.extend({},e),lastEvent:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);for(var e=this.current.inst.options,n=0,i=this.gestures.length;i>n;n++){var o=this.gestures[n];if(!this.stopped&&e[o.name]!==!1&&o.handler.call(o,t,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=t),t.eventType==r.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=r.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var e=this.current.startEvent;if(e&&(t.touches.length!=e.touches.length||t.touches===e.touches)){e.touches=[];for(var n=0,i=t.touches.length;i>n;n++)e.touches.push(r.utils.extend({},t.touches[n]))}var o=t.timeStamp-e.timeStamp,a=t.center.pageX-e.center.pageX,s=t.center.pageY-e.center.pageY,c=r.utils.getVelocity(o,a,s);return r.utils.extend(t,{deltaTime:o,deltaX:a,deltaY:s,velocityX:c.x,velocityY:c.y,distance:r.utils.getDistance(e.center,t.center),angle:r.utils.getAngle(e.center,t.center),direction:r.utils.getDirection(e.center,t.center),scale:r.utils.getScale(e.touches,t.touches),rotation:r.utils.getRotation(e.touches,t.touches),startEvent:e}),t},register:function(t){var n=t.defaults||{};return n[t.name]===e&&(n[t.name]=!0),r.utils.extend(r.defaults,n,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},r.gestures=r.gestures||{},r.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,e){switch(t.eventType){case r.EVENT_START:clearTimeout(this.timer),r.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==r.detection.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case r.EVENT_MOVE:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case r.EVENT_END:clearTimeout(this.timer)}}},r.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,e){if(t.eventType==r.EVENT_END){var n=r.detection.previous,i=!1;if(t.deltaTime>e.options.tap_max_touchtime||t.distance>e.options.tap_max_distance)return;n&&"tap"==n.name&&t.timeStamp-n.lastEvent.timeStamp<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance&&(e.trigger("doubletap",t),i=!0),(!i||e.options.tap_always)&&(r.detection.current.name="tap",e.trigger(r.detection.current.name,t))}}},r.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==r.EVENT_END){if(e.options.swipe_max_touches>0&&t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},r.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,n){if(r.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),this.triggered=!1,e;if(!(n.options.drag_max_touches>0&&t.touches.length>n.options.drag_max_touches))switch(t.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:if(t.distance<n.options.drag_min_distance&&r.detection.current.name!=this.name)return;r.detection.current.name=this.name,(r.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var i=r.detection.current.lastEvent.direction;t.drag_locked_to_axis&&i!==t.direction&&(t.direction=r.utils.isVertical(i)?0>t.deltaY?r.DIRECTION_UP:r.DIRECTION_DOWN:0>t.deltaX?r.DIRECTION_LEFT:r.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),n.trigger(this.name+t.direction,t),(n.options.drag_block_vertical&&r.utils.isVertical(t.direction)||n.options.drag_block_horizontal&&!r.utils.isVertical(t.direction))&&t.preventDefault();break;case r.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},r.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,n){if(r.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),this.triggered=!1,e;if(!(2>t.touches.length))switch(n.options.transform_always_block&&t.preventDefault(),t.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:var i=Math.abs(1-t.scale),o=Math.abs(t.rotation);if(n.options.transform_min_scale>i&&n.options.transform_min_rotation>o)return;r.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),o>n.options.transform_min_rotation&&n.trigger("rotate",t),i>n.options.transform_min_scale&&(n.trigger("pinch",t),n.trigger("pinch"+(1>t.scale?"in":"out"),t));break;case r.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},r.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,n){return n.options.prevent_mouseevents&&t.pointerType==r.POINTER_MOUSE?(t.stopDetect(),e):(n.options.prevent_default&&t.preventDefault(),t.eventType==r.EVENT_START&&n.trigger(this.name,t),e)}},r.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==r.EVENT_END&&e.trigger(this.name,t)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=r:(t.Hammer=r,"function"==typeof t.define&&t.define.amd&&t.define("hammer",[],function(){return r}))}(this),function(t,e){"use strict";t!==e&&(Hammer.event.bindDom=function(n,r,i){t(n).on(r,function(t){var n=t.originalEvent||t;n.pageX===e&&(n.pageX=t.pageX,n.pageY=t.pageY),n.target||(n.target=t.target),n.which===e&&(n.which=n.button),n.preventDefault||(n.preventDefault=t.preventDefault),n.stopPropagation||(n.stopPropagation=t.stopPropagation),i.call(this,n)})},Hammer.Instance.prototype.on=function(e,n){return t(this.element).on(e,n)},Hammer.Instance.prototype.off=function(e,n){return t(this.element).off(e,n)},Hammer.Instance.prototype.trigger=function(e,n){var r=t(this.element);return r.has(n.target).length&&(r=t(n.target)),r.trigger({type:e,gesture:n})},t.fn.hammer=function(e){return this.each(function(){var n=t(this),r=n.data("hammer");r?r&&e&&Hammer.utils.extend(r.options,e):n.data("hammer",new Hammer(this,e||{}))})})}(window.jQuery||window.Zepto);
!function(e,t,o,i){function s(t,o){this.element=t,this.options=e.extend({},r,o),this._defaults=r,this._name=n,this.itemElems=[],this.itemTmpl=e("#"+this.options.loadFromJSON.template).html(),this.itemContainer=e(this.element).find("."+this.options.container.className),this.numPages=[],this.numCols=[],this.dots=[],this.currentPage={small:0,medium:0,large:0},this.init()}var n="carousel",r={sizes:{small:400,medium:800,large:980},itemsPerPage:{small:1,medium:2,large:4},paths:{images:"images"},classes:{active:"active",disabled:"disabled",hidden:"hidden"},container:{className:"carousel__container"},controls:{className:"carousel__controls",allowKeyboard:!0,allowSwipe:!0,show:{small:!0,medium:!0,large:!0}},arrows:{className:"carousel__arrows",prev:{className:"carousel__arrow carousel__arrow--prev",text:"Previous page"},next:{className:"carousel__arrow carousel__arrow--next",text:"Next page"},show:{small:!0,medium:!0,large:!0}},dots:{className:"carousel__dots",dot:{className:"carousel__dot",text:"Page "},show:{small:!1,medium:!0,large:!0}},loadFromJSON:{enabled:!0,url:"",template:""},lazyload:!0};s.prototype.init=function(){var e=this;e.initItems(),e.handleResize()},s.prototype.isInViewport=function(){var o=this,i=e(t).height(),s=e(t).scrollTop(),n=e(o.element).offset().top,r=s+i;return r>n&&n+i+e(o.element).height()>r},s.prototype.setContainerSize=function(){var e=this;e.containerSize=e.itemContainer.width()},s.prototype.setScreenSize=function(){var o=this;o.windowWidth=e(t).width(),o.screenSize=o.windowWidth<=o.options.sizes.small?"small":o.windowWidth<=o.options.sizes.medium?"medium":"large"},s.prototype.setNumPages=function(){var t=this;e.each(t.options.itemsPerPage,function(e,o){t.numPages[e]=Math.ceil(t.itemCount/o)})},s.prototype.setNumCols=function(){var t=this;e.each(t.options.itemsPerPage,function(e,o){t.numCols[e]=o})},s.prototype.getScreenSize=function(){var e=this;return e.setScreenSize(),e.screenSize},s.prototype.getContainerSize=function(){var e=this;return e.setContainerSize(),e.containerSize},s.prototype.getNumCols=function(){var e=this;return e.setNumCols(),e.numCols[e.screenSize]},s.prototype.getNumPages=function(){var e=this;return e.setNumPages(),e.numPages[e.screenSize]},s.prototype.handleResize=function(){var o=this;e(t).on("resize",{_this:this},function(e){o.resizeItems(),o.resizeContainer(),o.updateControlVisibility(),o.createControls(),o.initKeyboard(),o.goToPage(0)})},s.prototype.initItems=function(){var e=this;e.getItems()},s.prototype.getItems=function(){var t=this,o=t.options.loadFromJSON.url;e.getJSON(o,function(e){t.items=e.data.carousel.items,t.itemCount=t.items.length,t.createItems(),t.createControls()}).done(function(){}).fail(function(){}).always(function(){})},s.prototype.createItems=function(){function t(t,o){var s=0;return o.linkTitle=o.title,o.imgPath=i.options.paths.images,e.each(o,function(e,i){return t=t.replace("{{"+e+"}}",i),s++,s===o.length-1?t:void 0}),t}var o,i=this;i.itemContainer.empty().append("<ul>"),e.each(i.items,function(e,s){o=t(i.itemTmpl,s),i.itemContainer.find("ul").append(o),i.itemElems.push(o),e===i.items.length-1&&(i.currentPage[i.screenSize]=0,i.loadItemImages(),i.resizeItems(),i.resizeContainer())})},s.prototype.loadItemImages=function(){var t=this;t.options.lazyload||e.each(t.itemContainer.find("img"),function(t,o){e(o).attr("src",e(o).data("src"))})},s.prototype.resizeItems=function(){var t=this;t.setContainerSize(),t.setScreenSize(),t.setNumPages(),t.setNumCols(),t.itemWidth=t.containerSize/t.numCols[t.screenSize],e.each(t.itemContainer.find("li"),function(o,i){e(i).width(t.itemWidth)})},s.prototype.resizeContainer=function(){var e=this;e.itemList=e.itemContainer.find("ul"),e.itemList.width(e.getContainerSize()*e.numPages[e.screenSize])},s.prototype.createControls=function(){var t=this;t.controls&&t.controls.remove(),t.controls=e("<div class="+t.options.controls.className+"><div></div></div>"),e(t.element).append(t.controls),t.createArrows(),t.createDots(),t.initKeyboard(),t.initSwipe()},s.prototype.updateControls=function(){var e=this;e.updateArrows(),e.updateDots()},s.prototype.updateControlVisibility=function(){var e=this;e.updateArrowVisibility(),e.updateDotVisibility()},s.prototype.createArrows=function(){var t=this;t.arrowContainer=e("<div class="+t.options.arrows.className+">"),t.arrowPrev=e('<button class="'+t.options.arrows.prev.className+'"><i aria-hidden="true"></i><span class="visuallyhidden">'+t.options.arrows.prev.text+"</span></button>"),t.arrowNext=e('<button class="'+t.options.arrows.next.className+'"><i aria-hidden="true"></i><span class="visuallyhidden">'+t.options.arrows.next.text+"</span></button>"),t.arrowContainer.append(t.arrowPrev),t.arrowContainer.append(t.arrowNext),t.controls.find("> div").append(t.arrowContainer),t.initArrows()},s.prototype.initArrows=function(){var e=this;e.updateArrows(),e.updateArrowVisibility(),e.arrowPrev.on("click",function(){page=e.currentPage[e.screenSize]-1,e.goToPage(page)}),e.arrowNext.on("click",function(){page=e.currentPage[e.screenSize]+1,e.goToPage(page)})},s.prototype.updateArrows=function(){var e=this;e.arrowPrev.removeClass(e.options.classes.disabled),e.arrowNext.removeClass(e.options.classes.disabled),0===e.currentPage[e.screenSize]?e.arrowPrev.addClass(e.options.classes.disabled):e.currentPage[e.screenSize]===e.numPages[e.screenSize]-1&&e.arrowNext.addClass(e.options.classes.disabled)},s.prototype.createDots=function(){var t,o=this,i=0;for(o.dotContainer=e("<div class="+o.options.dots.className+">"),o.dots=[];i<o.numPages[o.screenSize];)t=e('<button class="'+o.options.dots.dot.className+'"><i aria-hidden="true"></i><span class="visuallyhidden">'+o.options.dots.dot.text+i+"1</span></button>"),o.dotContainer.append(t),o.dots.push(t),i===o.numPages[o.screenSize]-1&&(o.controls.find("> div").append(o.dotContainer),o.initDots()),i++},s.prototype.initDots=function(){var t=this;t.updateDots(),t.updateDotVisibility(),t.dotContainer.find("button").on("click",function(){t.goToPage(e(this).index())})},s.prototype.updateDots=function(){var t=this;e.each(t.dots,function(o,i){o===t.currentPage[t.screenSize]?e(i).addClass(t.options.classes.active):e(i).removeClass(t.options.classes.active)})},s.prototype.initKeyboard=function(){var t=this;t.options.controls.allowKeyboard&&e(o).off("keydown.carousel-keyboard").on("keydown.carousel-keyboard",function(e){t.isInViewport(t.element)===!0&&(37===e.keyCode&&(t.goToPage(t.currentPage[t.screenSize]-1),e.preventDefault()),39===e.keyCode&&(t.goToPage(t.currentPage[t.screenSize]+1),e.preventDefault()))})},s.prototype.initSwipe=function(t){function o(e){switch(e.gesture.preventDefault(),e.type){case"swipeleft":i.goToPage(i.currentPage[i.screenSize]+1),e.gesture.stopDetect();break;case"swiperight":i.goToPage(i.currentPage[i.screenSize]-1),e.gesture.stopDetect()}}var i=this;i.options.controls.allowSwipe&&e.fn.hammer?e(i.itemList).hammer({drag_lock_to_axis:!0}).on("release dragleft dragright swipeleft swiperight",o):console.error("Hammer.js is needed for swipe functionality")},s.prototype.updateArrowVisibility=function(){var e=this;e.arrowContainer.removeClass(e.options.classes.hidden),e.options.arrows.show[e.getScreenSize()]||e.arrowContainer.addClass(e.options.classes.hidden)},s.prototype.updateDotVisibility=function(){var e=this;e.dotContainer.removeClass(e.options.classes.hidden),e.options.dots.show[e.getScreenSize()]||e.dotContainer.addClass(e.options.classes.hidden)},s.prototype.goToPage=function(e){var t=this;0>=e&&(e=0),e>=t.numPages[t.screenSize]&&(e=t.numPages[t.screenSize]-1),e>=0&&e<t.numPages[t.screenSize]&&(t.currentPage[t.screenSize]=e,t.updateControls(),Modernizr.csstransforms3d?t.itemList.css({transform:"translate3d(-"+t.containerSize*t.currentPage[t.screenSize]+"px,0,0)"}):Modernizr.csstransforms?t.itemList.css({transform:"translateX(-"+t.containerSize*t.currentPage[t.screenSize]+"px)"}):Modernizr.csstransitions?t.itemList.css({left:-(t.containerSize*t.currentPage[t.screenSize])}):t.itemList.animate({left:-(t.containerSize*t.currentPage[t.screenSize])},400))},s.prototype.updateAllPages=function(){var t=this;t.currentItem=t.currentPage[t.screenSize]*t.numCols[t.screenSize]+1,e.each(t.options.itemsPerPage,function(e,o){t.currentPage[e]=Math.round(t.currentItem/t.numCols[e])})},e.fn[n]=function(t){return this.each(function(){e.data(this,n,new s(this,t))})}}(jQuery,window,document);
var $carousel=$("#test-carousel"),url=$carousel.data("item-url"),imgurl=$carousel.data("item-imgurl"),template=$carousel.data("item-tmpl"),carouselOptions={sizes:{small:400,medium:800,large:980},itemsPerPage:{small:1,medium:2,large:4},paths:{images:imgurl},classes:{active:"active",disabled:"disabled",hidden:"hidden"},container:{className:"carousel__container"},controls:{className:"carousel__controls",allowKeyboard:!0,allowSwipe:!0,show:{small:!0,medium:!0,large:!0}},arrows:{className:"carousel__arrows",prev:{className:"carousel__arrow carousel__arrow--prev",text:"Previous page"},next:{className:"carousel__arrow carousel__arrow--next",text:"Next page"},show:{small:!0,medium:!0,large:!0}},dots:{className:"carousel__dots",dot:{className:"carousel__dot",text:"Page "},show:{small:!1,medium:!0,large:!0}},loadFromJSON:{enabled:!0,url:url,template:template},lazyload:!1};$carousel.carousel(carouselOptions);