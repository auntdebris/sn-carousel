!function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],r=n.length,i=window.console=window.console||{};r--;)e=n[r],i[e]||(i[e]=t)}(),function(e){var t,n,r,i=e.event,o={_:0},l=0;t=i.special.throttledresize={setup:function(){e(this).on("resize",t.handler)},teardown:function(){e(this).off("resize",t.handler)},handler:function(a,s){var d=this,c=arguments;n=!0,r||(setInterval(function(){l++,(l>t.threshold&&n||s)&&(a.type="throttledresize",i.dispatch.apply(d,c),n=!1,l=0),l>9&&(e(o).stop(),r=!1,l=0)},30),r=!0)},threshold:0}}(jQuery);
!function(t,e,i,o){function n(e,i){this.element=e,this.options=t.extend({},r,i),this._defaults=r,this._name=s,this.itemElems=[],this.itemTmpl=t("#"+this.options.loadFromJSON.template).html(),this.itemContainer=t(this.element).find("."+this.options.container.className),this.init()}var s="carousel",r={sizes:{small:400,medium:800,large:980},itemsPerPage:{small:1,medium:2,large:4},paths:{images:"images"},container:{className:"carousel__container"},controls:{className:"carousel__controls",display:{small:!0,medium:!0,large:!0}},arrows:{className:"carousel__arrows",prev:{className:"carousel__arrow carousel__arrow--prev",text:"Previous page"},next:{className:"carousel__arrow carousel__arrow--next",text:"Next page"},display:{small:!0,medium:!0,large:!0}},dots:{className:"carousel__dots",dot:{className:"carousel__dot",text:"Page "},display:{small:!0,medium:!0,large:!0}},loadFromJSON:{enabled:!0,url:"",template:""},lazyload:!0,drag:!0};n.prototype.init=function(){var t=this;t.initItems(),t.handleResize()},n.prototype.getScreenSize=function(){var i=this,o=t(e).width();return i.screenSize=o>=i.options.sizes.large?"large":o>=i.options.sizes.medium?"medium":"small",i.screenSize},n.prototype.getContainerSize=function(){var t=this;return t.containerSize=t.itemContainer.width(),t.containerSize},n.prototype.getNumCols=function(){var t=this;return t.numCols=t.options.itemsPerPage[t.getScreenSize()],t.numCols},n.prototype.getNumPages=function(){var t=this;return t.numPages=Math.ceil(t.itemCount/t.options.itemsPerPage[t.getScreenSize()]),t.numPages},n.prototype.handleResize=function(){var i=this;t.event.special.throttledresize?"throttledresize":"resize";t(e).on("resize",{_this:this},function(t){i.resizeItems(),i.resizeContainer()})},n.prototype.initItems=function(){var t=this;t.getItems()},n.prototype.getItems=function(){var e=this,i=e.options.loadFromJSON.url;t.getJSON(i,function(t){e.items=t.data.carousel.items,e.itemCount=e.items.length,e.createItems(),e.initControls()}).done(function(){}).fail(function(){}).always(function(){})},n.prototype.createItems=function(){function e(e,i){var n=0;return i.linkTitle=i.title,i.imgPath=o.options.paths.images,t.each(i,function(t,o){return e=e.replace("{{"+t+"}}",o),n++,n===i.length-1?e:void 0}),e}var i,o=this;o.itemContainer.empty().append("<ul>"),t.each(o.items,function(t,n){i=e(o.itemTmpl,n),o.itemContainer.find("ul").append(i),o.itemElems.push(i),t===o.items.length-1&&(o.loadItemImages(),o.resizeItems(),o.resizeContainer())})},n.prototype.loadItemImages=function(){var e=this;e.options.lazyload||t.each(e.itemContainer.find("img"),function(e,i){t(i).attr("src",t(i).data("src"))})},n.prototype.resizeItems=function(){var e=this;e.containerSize=e.getContainerSize(),e.screenSize=e.getScreenSize(),e.numCols=e.getNumCols(),e.itemWidth=e.containerSize/e.numCols,e.numPages=e.getNumPages(),t.each(e.itemContainer.find("li"),function(i,o){t(o).width(e.itemWidth)})},n.prototype.resizeContainer=function(){var t=this;t.containerList=t.itemContainer.find("ul"),t.containerList.width(t.containerSize*t.numPages)},n.prototype.initControls=function(){var t=this;t.createControls()},n.prototype.createControls=function(){var e=this;e.controls=t("<div class="+e.options.controls.className+"><div></div></div>"),t(e.element).append(e.controls),e.createArrows(),e.createDots()},n.prototype.createArrows=function(){var e=this;e.arrowContainer=t("<div class="+e.options.arrows.className+">"),e.arrowPrev=t('<button class="'+e.options.arrows.prev.className+'"><i aria-hidden="true"></i><span class="visuallyhidden">'+e.options.arrows.prev.text+"</span></button>"),e.arrowNext=t('<button class="'+e.options.arrows.next.className+'"><i aria-hidden="true"></i><span class="visuallyhidden">'+e.options.arrows.next.text+"</span></button>"),e.arrowContainer.append(e.arrowPrev),e.arrowContainer.append(e.arrowNext),e.controls.find("> div").append(e.arrowContainer)},n.prototype.createDots=function(){var e=this;t('<button class="'+e.options.dots.className+'"><i aria-hidden="true"></i><span class="visuallyhidden">'+e.options.dots.text+"</span></button>")},n.prototype.initArrows=function(){},n.prototype.initDots=function(){},n.prototype.updateDots=function(){},n.prototype.updateArrows=function(){},n.prototype.initVisibility=function(){},n.prototype.updateVisibility=function(){},n.prototype.goToPrev=function(){},n.prototype.goToNext=function(){},n.prototype.goTo=function(){},t.fn[s]=function(e){return this.each(function(){t.data(this,s,new n(this,e))})}}(jQuery,window,document);
var $carousel=$("#test-carousel"),url=$carousel.data("item-url"),imgurl=$carousel.data("item-imgurl"),template=$carousel.data("item-tmpl"),carouselOptions={sizes:{small:400,medium:800,large:980},itemsPerPage:{small:1,medium:2,large:4},paths:{images:imgurl},container:{className:"carousel__container"},controls:{className:"carousel__controls",display:{small:!0,medium:!0,large:!0}},arrows:{className:"carousel__arrows",prev:{className:"carousel__arrow carousel__arrow--prev",text:"Previous page"},next:{className:"carousel__arrow carousel__arrow--next",text:"Next page"},display:{small:!0,medium:!0,large:!0}},dots:{className:"carousel__dots",dot:{className:"carousel__dot",text:"Page "},display:{small:!0,medium:!0,large:!0}},loadFromJSON:{enabled:!0,url:url,template:template},lazyload:!1,drag:!0};$carousel.carousel(carouselOptions);