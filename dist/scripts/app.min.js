!function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],r=n.length,i=window.console=window.console||{};r--;)e=n[r],i[e]||(i[e]=t)}(),function(e){var t,n,r,i=e.event,o={_:0},l=0;t=i.special.throttledresize={setup:function(){e(this).on("resize",t.handler)},teardown:function(){e(this).off("resize",t.handler)},handler:function(a,s){var d=this,c=arguments;n=!0,r||(setInterval(function(){l++,(l>t.threshold&&n||s)&&(a.type="throttledresize",i.dispatch.apply(d,c),n=!1,l=0),l>9&&(e(o).stop(),r=!1,l=0)},30),r=!0)},threshold:0}}(jQuery);
!function(t,e,o,s){function i(e,o){this.element=e,this.options=t.extend({},a,o),this._defaults=a,this._name=n,this.itemElems=[],this.itemTmpl=t("#"+this.options.loadFromJSON.template).html(),this.itemContainer=t(this.element).find("."+this.options.container.className),this.init()}var n="carousel",a={sizes:{small:400,medium:800,large:980},itemsPerPage:{small:1,medium:2,large:4},paths:{images:"images"},container:{className:"carousel__container"},controls:{className:"carousel__controls",display:{small:!0,medium:!0,large:!0}},arrows:{className:"carousel__arrows",prev:{className:"carousel__arrow carousel__arrow--prev",text:"Previous page"},next:{className:"carousel__arrow carousel__arrow--next",text:"Next page"},display:{small:!0,medium:!0,large:!0}},dots:{className:"carousel__dots",dot:{className:"carousel__dot",text:"Page "},display:{small:!0,medium:!0,large:!0}},loadFromJSON:{enabled:!0,url:"",template:""},lazyload:!0,drag:!0};i.prototype.init=function(){this.initItems(),this.handleResize()},i.prototype.getScreenSize=function(o,s){var i=t(e).width();return this.screenSize=i>=s.sizes.large?"large":i>=s.sizes.medium?"medium":"small",this.screenSize},i.prototype.onResize=function(o,s){var i=t.event.special.throttledresize?"throttledresize":"resize";t(e).on(i,{_this:this},function(t){this.handleResize()})},i.prototype.handleResize=function(t,e){},i.prototype.initItems=function(){this.getItems()},i.prototype.getItems=function(){var e=this,o=e.options.loadFromJSON.url;t.getJSON(o,function(){console.log("success")}).done(function(t){e.items=t.data.carousel.items,e.itemCount=e.items.length,e.createItems()}).fail(function(){console.log("error")}).always(function(){console.log("complete")})},i.prototype.createItems=function(){function e(e,o){var i=0;return o.linkTitle=o.title,o.imgPath=s.options.paths.images,t.each(o,function(t,s){return e=e.replace("{{"+t+"}}",s),i++,i===o.length-1?e:void 0}),e}var o,s=this;s.itemContainer.empty().append("<ul>"),t.each(s.items,function(t,i){o=e(s.itemTmpl,i),s.itemContainer.find("ul").append(o),s.itemElems.push(o),t===s.items.length-1&&(s.loadItemImages(),s.resizeItems())})},i.prototype.loadItemImages=function(){var e=this;e.options.lazyload||t.each(e.itemContainer.find("img"),function(e,o){t(o).attr("src",t(o).data("src"))})},i.prototype.resizeItems=function(){var t=this;console.log(t.screenSize)},i.prototype.fitContainer=function(){},i.prototype.createControls=function(){},i.prototype.initControls=function(){},i.prototype.createArrows=function(){t('<button class="'+opts.arrows.prev.className+'"><i aria-hidden="true"></i><span class="visuallyhidden">'+opts.arrows.prev.text+"</span></button>"),t('<button class="'+opts.arrows.next.className+'"><i aria-hidden="true"></i><span class="visuallyhidden">'+opts.arrows.next.text+"</span></button>")},i.prototype.createDots=function(){t('<button class="'+opts.dots.className+'"><i aria-hidden="true"></i><span class="visuallyhidden">'+opts.dots.text+"</span></button>")},i.prototype.initArrows=function(){},i.prototype.initDots=function(){},i.prototype.updateDots=function(){},i.prototype.updateArrows=function(){},i.prototype.initVisibility=function(){},i.prototype.updateVisibility=function(){},i.prototype.goToPrev=function(t,e){},i.prototype.goToNext=function(t,e){},i.prototype.goTo=function(t,e){},t.fn[n]=function(e){return this.each(function(){t.data(this,n,new i(this,e))})}}(jQuery,window,document);
var $carousel=$("#test-carousel"),url=$carousel.data("item-url"),imgurl=$carousel.data("item-imgurl"),template=$carousel.data("item-tmpl"),carouselOptions={sizes:{small:400,medium:800,large:980},itemsPerPage:{small:1,medium:2,large:4},paths:{images:imgurl},container:{className:"carousel__container"},controls:{className:"carousel__controls",display:{small:!0,medium:!0,large:!0}},arrows:{className:"carousel__arrows",prev:{className:"carousel__arrow carousel__arrow--prev",text:"Previous page"},next:{className:"carousel__arrow carousel__arrow--next",text:"Next page"},display:{small:!0,medium:!0,large:!0}},dots:{className:"carousel__dots",dot:{className:"carousel__dot",text:"Page "},display:{small:!0,medium:!0,large:!0}},loadFromJSON:{enabled:!0,url:url,template:template},lazyload:!1,drag:!0};$carousel.carousel(carouselOptions);